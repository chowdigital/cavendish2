var device = 'desktop';
/*!
 * Isotope PACKAGED v2.0.1
 * Filter & sort magical layouts
 * http://isotope.metafizzy.co
 */
(function(t){function e(){}function i(t){function i(e){e.prototype.option||(e.prototype.option=function(e){t.isPlainObject(e)&&(this.options=t.extend(!0,this.options,e))})}function n(e,i){t.fn[e]=function(n){if("string"==typeof n){for(var s=o.call(arguments,1),a=0,u=this.length;u>a;a++){var p=this[a],h=t.data(p,e);if(h)if(t.isFunction(h[n])&&"_"!==n.charAt(0)){var f=h[n].apply(h,s);if(void 0!==f)return f}else r("no such method '"+n+"' for "+e+" instance");else r("cannot call methods on "+e+" prior to initialization; "+"attempted to call '"+n+"'")}return this}return this.each(function(){var o=t.data(this,e);o?(o.option(n),o._init()):(o=new i(this,n),t.data(this,e,o))})}}if(t){var r="undefined"==typeof console?e:function(t){console.error(t)};return t.bridget=function(t,e){i(e),n(t,e)},t.bridget}}var o=Array.prototype.slice;"function"==typeof define&&define.amd?define("jquery-bridget/jquery.bridget",["jquery"],i):i(t.jQuery)})(window),function(t){function e(e){var i=t.event;return i.target=i.target||i.srcElement||e,i}var i=document.documentElement,o=function(){};i.addEventListener?o=function(t,e,i){t.addEventListener(e,i,!1)}:i.attachEvent&&(o=function(t,i,o){t[i+o]=o.handleEvent?function(){var i=e(t);o.handleEvent.call(o,i)}:function(){var i=e(t);o.call(t,i)},t.attachEvent("on"+i,t[i+o])});var n=function(){};i.removeEventListener?n=function(t,e,i){t.removeEventListener(e,i,!1)}:i.detachEvent&&(n=function(t,e,i){t.detachEvent("on"+e,t[e+i]);try{delete t[e+i]}catch(o){t[e+i]=void 0}});var r={bind:o,unbind:n};"function"==typeof define&&define.amd?define("eventie/eventie",r):"object"==typeof exports?module.exports=r:t.eventie=r}(this),function(t){function e(t){"function"==typeof t&&(e.isReady?t():r.push(t))}function i(t){var i="readystatechange"===t.type&&"complete"!==n.readyState;if(!e.isReady&&!i){e.isReady=!0;for(var o=0,s=r.length;s>o;o++){var a=r[o];a()}}}function o(o){return o.bind(n,"DOMContentLoaded",i),o.bind(n,"readystatechange",i),o.bind(t,"load",i),e}var n=t.document,r=[];e.isReady=!1,"function"==typeof define&&define.amd?(e.isReady="function"==typeof requirejs,define("doc-ready/doc-ready",["eventie/eventie"],o)):t.docReady=o(t.eventie)}(this),function(){function t(){}function e(t,e){for(var i=t.length;i--;)if(t[i].listener===e)return i;return-1}function i(t){return function(){return this[t].apply(this,arguments)}}var o=t.prototype,n=this,r=n.EventEmitter;o.getListeners=function(t){var e,i,o=this._getEvents();if(t instanceof RegExp){e={};for(i in o)o.hasOwnProperty(i)&&t.test(i)&&(e[i]=o[i])}else e=o[t]||(o[t]=[]);return e},o.flattenListeners=function(t){var e,i=[];for(e=0;t.length>e;e+=1)i.push(t[e].listener);return i},o.getListenersAsObject=function(t){var e,i=this.getListeners(t);return i instanceof Array&&(e={},e[t]=i),e||i},o.addListener=function(t,i){var o,n=this.getListenersAsObject(t),r="object"==typeof i;for(o in n)n.hasOwnProperty(o)&&-1===e(n[o],i)&&n[o].push(r?i:{listener:i,once:!1});return this},o.on=i("addListener"),o.addOnceListener=function(t,e){return this.addListener(t,{listener:e,once:!0})},o.once=i("addOnceListener"),o.defineEvent=function(t){return this.getListeners(t),this},o.defineEvents=function(t){for(var e=0;t.length>e;e+=1)this.defineEvent(t[e]);return this},o.removeListener=function(t,i){var o,n,r=this.getListenersAsObject(t);for(n in r)r.hasOwnProperty(n)&&(o=e(r[n],i),-1!==o&&r[n].splice(o,1));return this},o.off=i("removeListener"),o.addListeners=function(t,e){return this.manipulateListeners(!1,t,e)},o.removeListeners=function(t,e){return this.manipulateListeners(!0,t,e)},o.manipulateListeners=function(t,e,i){var o,n,r=t?this.removeListener:this.addListener,s=t?this.removeListeners:this.addListeners;if("object"!=typeof e||e instanceof RegExp)for(o=i.length;o--;)r.call(this,e,i[o]);else for(o in e)e.hasOwnProperty(o)&&(n=e[o])&&("function"==typeof n?r.call(this,o,n):s.call(this,o,n));return this},o.removeEvent=function(t){var e,i=typeof t,o=this._getEvents();if("string"===i)delete o[t];else if(t instanceof RegExp)for(e in o)o.hasOwnProperty(e)&&t.test(e)&&delete o[e];else delete this._events;return this},o.removeAllListeners=i("removeEvent"),o.emitEvent=function(t,e){var i,o,n,r,s=this.getListenersAsObject(t);for(n in s)if(s.hasOwnProperty(n))for(o=s[n].length;o--;)i=s[n][o],i.once===!0&&this.removeListener(t,i.listener),r=i.listener.apply(this,e||[]),r===this._getOnceReturnValue()&&this.removeListener(t,i.listener);return this},o.trigger=i("emitEvent"),o.emit=function(t){var e=Array.prototype.slice.call(arguments,1);return this.emitEvent(t,e)},o.setOnceReturnValue=function(t){return this._onceReturnValue=t,this},o._getOnceReturnValue=function(){return this.hasOwnProperty("_onceReturnValue")?this._onceReturnValue:!0},o._getEvents=function(){return this._events||(this._events={})},t.noConflict=function(){return n.EventEmitter=r,t},"function"==typeof define&&define.amd?define("eventEmitter/EventEmitter",[],function(){return t}):"object"==typeof module&&module.exports?module.exports=t:this.EventEmitter=t}.call(this),function(t){function e(t){if(t){if("string"==typeof o[t])return t;t=t.charAt(0).toUpperCase()+t.slice(1);for(var e,n=0,r=i.length;r>n;n++)if(e=i[n]+t,"string"==typeof o[e])return e}}var i="Webkit Moz ms Ms O".split(" "),o=document.documentElement.style;"function"==typeof define&&define.amd?define("get-style-property/get-style-property",[],function(){return e}):"object"==typeof exports?module.exports=e:t.getStyleProperty=e}(window),function(t){function e(t){var e=parseFloat(t),i=-1===t.indexOf("%")&&!isNaN(e);return i&&e}function i(){for(var t={width:0,height:0,innerWidth:0,innerHeight:0,outerWidth:0,outerHeight:0},e=0,i=s.length;i>e;e++){var o=s[e];t[o]=0}return t}function o(t){function o(t){if("string"==typeof t&&(t=document.querySelector(t)),t&&"object"==typeof t&&t.nodeType){var o=r(t);if("none"===o.display)return i();var n={};n.width=t.offsetWidth,n.height=t.offsetHeight;for(var h=n.isBorderBox=!(!p||!o[p]||"border-box"!==o[p]),f=0,d=s.length;d>f;f++){var l=s[f],c=o[l];c=a(t,c);var y=parseFloat(c);n[l]=isNaN(y)?0:y}var m=n.paddingLeft+n.paddingRight,g=n.paddingTop+n.paddingBottom,v=n.marginLeft+n.marginRight,_=n.marginTop+n.marginBottom,I=n.borderLeftWidth+n.borderRightWidth,L=n.borderTopWidth+n.borderBottomWidth,z=h&&u,S=e(o.width);S!==!1&&(n.width=S+(z?0:m+I));var b=e(o.height);return b!==!1&&(n.height=b+(z?0:g+L)),n.innerWidth=n.width-(m+I),n.innerHeight=n.height-(g+L),n.outerWidth=n.width+v,n.outerHeight=n.height+_,n}}function a(t,e){if(n||-1===e.indexOf("%"))return e;var i=t.style,o=i.left,r=t.runtimeStyle,s=r&&r.left;return s&&(r.left=t.currentStyle.left),i.left=e,e=i.pixelLeft,i.left=o,s&&(r.left=s),e}var u,p=t("boxSizing");return function(){if(p){var t=document.createElement("div");t.style.width="200px",t.style.padding="1px 2px 3px 4px",t.style.borderStyle="solid",t.style.borderWidth="1px 2px 3px 4px",t.style[p]="border-box";var i=document.body||document.documentElement;i.appendChild(t);var o=r(t);u=200===e(o.width),i.removeChild(t)}}(),o}var n=t.getComputedStyle,r=n?function(t){return n(t,null)}:function(t){return t.currentStyle},s=["paddingLeft","paddingRight","paddingTop","paddingBottom","marginLeft","marginRight","marginTop","marginBottom","borderLeftWidth","borderRightWidth","borderTopWidth","borderBottomWidth"];"function"==typeof define&&define.amd?define("get-size/get-size",["get-style-property/get-style-property"],o):"object"==typeof exports?module.exports=o(require("get-style-property")):t.getSize=o(t.getStyleProperty)}(window),function(t,e){function i(t,e){return t[a](e)}function o(t){if(!t.parentNode){var e=document.createDocumentFragment();e.appendChild(t)}}function n(t,e){o(t);for(var i=t.parentNode.querySelectorAll(e),n=0,r=i.length;r>n;n++)if(i[n]===t)return!0;return!1}function r(t,e){return o(t),i(t,e)}var s,a=function(){if(e.matchesSelector)return"matchesSelector";for(var t=["webkit","moz","ms","o"],i=0,o=t.length;o>i;i++){var n=t[i],r=n+"MatchesSelector";if(e[r])return r}}();if(a){var u=document.createElement("div"),p=i(u,"div");s=p?i:r}else s=n;"function"==typeof define&&define.amd?define("matches-selector/matches-selector",[],function(){return s}):window.matchesSelector=s}(this,Element.prototype),function(t){function e(t,e){for(var i in e)t[i]=e[i];return t}function i(t){for(var e in t)return!1;return e=null,!0}function o(t){return t.replace(/([A-Z])/g,function(t){return"-"+t.toLowerCase()})}function n(t,n,r){function a(t,e){t&&(this.element=t,this.layout=e,this.position={x:0,y:0},this._create())}var u=r("transition"),p=r("transform"),h=u&&p,f=!!r("perspective"),d={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"otransitionend",transition:"transitionend"}[u],l=["transform","transition","transitionDuration","transitionProperty"],c=function(){for(var t={},e=0,i=l.length;i>e;e++){var o=l[e],n=r(o);n&&n!==o&&(t[o]=n)}return t}();e(a.prototype,t.prototype),a.prototype._create=function(){this._transn={ingProperties:{},clean:{},onEnd:{}},this.css({position:"absolute"})},a.prototype.handleEvent=function(t){var e="on"+t.type;this[e]&&this[e](t)},a.prototype.getSize=function(){this.size=n(this.element)},a.prototype.css=function(t){var e=this.element.style;for(var i in t){var o=c[i]||i;e[o]=t[i]}},a.prototype.getPosition=function(){var t=s(this.element),e=this.layout.options,i=e.isOriginLeft,o=e.isOriginTop,n=parseInt(t[i?"left":"right"],10),r=parseInt(t[o?"top":"bottom"],10);n=isNaN(n)?0:n,r=isNaN(r)?0:r;var a=this.layout.size;n-=i?a.paddingLeft:a.paddingRight,r-=o?a.paddingTop:a.paddingBottom,this.position.x=n,this.position.y=r},a.prototype.layoutPosition=function(){var t=this.layout.size,e=this.layout.options,i={};e.isOriginLeft?(i.left=this.position.x+t.paddingLeft+"px",i.right=""):(i.right=this.position.x+t.paddingRight+"px",i.left=""),e.isOriginTop?(i.top=this.position.y+t.paddingTop+"px",i.bottom=""):(i.bottom=this.position.y+t.paddingBottom+"px",i.top=""),this.css(i),this.emitEvent("layout",[this])};var y=f?function(t,e){return"translate3d("+t+"px, "+e+"px, 0)"}:function(t,e){return"translate("+t+"px, "+e+"px)"};a.prototype._transitionTo=function(t,e){this.getPosition();var i=this.position.x,o=this.position.y,n=parseInt(t,10),r=parseInt(e,10),s=n===this.position.x&&r===this.position.y;if(this.setPosition(t,e),s&&!this.isTransitioning)return this.layoutPosition(),void 0;var a=t-i,u=e-o,p={},h=this.layout.options;a=h.isOriginLeft?a:-a,u=h.isOriginTop?u:-u,p.transform=y(a,u),this.transition({to:p,onTransitionEnd:{transform:this.layoutPosition},isCleaning:!0})},a.prototype.goTo=function(t,e){this.setPosition(t,e),this.layoutPosition()},a.prototype.moveTo=h?a.prototype._transitionTo:a.prototype.goTo,a.prototype.setPosition=function(t,e){this.position.x=parseInt(t,10),this.position.y=parseInt(e,10)},a.prototype._nonTransition=function(t){this.css(t.to),t.isCleaning&&this._removeStyles(t.to);for(var e in t.onTransitionEnd)t.onTransitionEnd[e].call(this)},a.prototype._transition=function(t){if(!parseFloat(this.layout.options.transitionDuration))return this._nonTransition(t),void 0;var e=this._transn;for(var i in t.onTransitionEnd)e.onEnd[i]=t.onTransitionEnd[i];for(i in t.to)e.ingProperties[i]=!0,t.isCleaning&&(e.clean[i]=!0);if(t.from){this.css(t.from);var o=this.element.offsetHeight;o=null}this.enableTransition(t.to),this.css(t.to),this.isTransitioning=!0};var m=p&&o(p)+",opacity";a.prototype.enableTransition=function(){this.isTransitioning||(this.css({transitionProperty:m,transitionDuration:this.layout.options.transitionDuration}),this.element.addEventListener(d,this,!1))},a.prototype.transition=a.prototype[u?"_transition":"_nonTransition"],a.prototype.onwebkitTransitionEnd=function(t){this.ontransitionend(t)},a.prototype.onotransitionend=function(t){this.ontransitionend(t)};var g={"-webkit-transform":"transform","-moz-transform":"transform","-o-transform":"transform"};a.prototype.ontransitionend=function(t){if(t.target===this.element){var e=this._transn,o=g[t.propertyName]||t.propertyName;if(delete e.ingProperties[o],i(e.ingProperties)&&this.disableTransition(),o in e.clean&&(this.element.style[t.propertyName]="",delete e.clean[o]),o in e.onEnd){var n=e.onEnd[o];n.call(this),delete e.onEnd[o]}this.emitEvent("transitionEnd",[this])}},a.prototype.disableTransition=function(){this.removeTransitionStyles(),this.element.removeEventListener(d,this,!1),this.isTransitioning=!1},a.prototype._removeStyles=function(t){var e={};for(var i in t)e[i]="";this.css(e)};var v={transitionProperty:"",transitionDuration:""};return a.prototype.removeTransitionStyles=function(){this.css(v)},a.prototype.removeElem=function(){this.element.parentNode.removeChild(this.element),this.emitEvent("remove",[this])},a.prototype.remove=function(){if(!u||!parseFloat(this.layout.options.transitionDuration))return this.removeElem(),void 0;var t=this;this.on("transitionEnd",function(){return t.removeElem(),!0}),this.hide()},a.prototype.reveal=function(){delete this.isHidden,this.css({display:""});var t=this.layout.options;this.transition({from:t.hiddenStyle,to:t.visibleStyle,isCleaning:!0})},a.prototype.hide=function(){this.isHidden=!0,this.css({display:""});var t=this.layout.options;this.transition({from:t.visibleStyle,to:t.hiddenStyle,isCleaning:!0,onTransitionEnd:{opacity:function(){this.isHidden&&this.css({display:"none"})}}})},a.prototype.destroy=function(){this.css({position:"",left:"",right:"",top:"",bottom:"",transition:"",transform:""})},a}var r=t.getComputedStyle,s=r?function(t){return r(t,null)}:function(t){return t.currentStyle};"function"==typeof define&&define.amd?define("outlayer/item",["eventEmitter/EventEmitter","get-size/get-size","get-style-property/get-style-property"],n):(t.Outlayer={},t.Outlayer.Item=n(t.EventEmitter,t.getSize,t.getStyleProperty))}(window),function(t){function e(t,e){for(var i in e)t[i]=e[i];return t}function i(t){return"[object Array]"===f.call(t)}function o(t){var e=[];if(i(t))e=t;else if(t&&"number"==typeof t.length)for(var o=0,n=t.length;n>o;o++)e.push(t[o]);else e.push(t);return e}function n(t,e){var i=l(e,t);-1!==i&&e.splice(i,1)}function r(t){return t.replace(/(.)([A-Z])/g,function(t,e,i){return e+"-"+i}).toLowerCase()}function s(i,s,f,l,c,y){function m(t,i){if("string"==typeof t&&(t=a.querySelector(t)),!t||!d(t))return u&&u.error("Bad "+this.constructor.namespace+" element: "+t),void 0;this.element=t,this.options=e({},this.constructor.defaults),this.option(i);var o=++g;this.element.outlayerGUID=o,v[o]=this,this._create(),this.options.isInitLayout&&this.layout()}var g=0,v={};return m.namespace="outlayer",m.Item=y,m.defaults={containerStyle:{position:"relative"},isInitLayout:!0,isOriginLeft:!0,isOriginTop:!0,isResizeBound:!0,isResizingContainer:!0,transitionDuration:"0.4s",hiddenStyle:{opacity:0,transform:"scale(0.001)"},visibleStyle:{opacity:1,transform:"scale(1)"}},e(m.prototype,f.prototype),m.prototype.option=function(t){e(this.options,t)},m.prototype._create=function(){this.reloadItems(),this.stamps=[],this.stamp(this.options.stamp),e(this.element.style,this.options.containerStyle),this.options.isResizeBound&&this.bindResize()},m.prototype.reloadItems=function(){this.items=this._itemize(this.element.children)},m.prototype._itemize=function(t){for(var e=this._filterFindItemElements(t),i=this.constructor.Item,o=[],n=0,r=e.length;r>n;n++){var s=e[n],a=new i(s,this);o.push(a)}return o},m.prototype._filterFindItemElements=function(t){t=o(t);for(var e=this.options.itemSelector,i=[],n=0,r=t.length;r>n;n++){var s=t[n];if(d(s))if(e){c(s,e)&&i.push(s);for(var a=s.querySelectorAll(e),u=0,p=a.length;p>u;u++)i.push(a[u])}else i.push(s)}return i},m.prototype.getItemElements=function(){for(var t=[],e=0,i=this.items.length;i>e;e++)t.push(this.items[e].element);return t},m.prototype.layout=function(){this._resetLayout(),this._manageStamps();var t=void 0!==this.options.isLayoutInstant?this.options.isLayoutInstant:!this._isLayoutInited;this.layoutItems(this.items,t),this._isLayoutInited=!0},m.prototype._init=m.prototype.layout,m.prototype._resetLayout=function(){this.getSize()},m.prototype.getSize=function(){this.size=l(this.element)},m.prototype._getMeasurement=function(t,e){var i,o=this.options[t];o?("string"==typeof o?i=this.element.querySelector(o):d(o)&&(i=o),this[t]=i?l(i)[e]:o):this[t]=0},m.prototype.layoutItems=function(t,e){t=this._getItemsForLayout(t),this._layoutItems(t,e),this._postLayout()},m.prototype._getItemsForLayout=function(t){for(var e=[],i=0,o=t.length;o>i;i++){var n=t[i];n.isIgnored||e.push(n)}return e},m.prototype._layoutItems=function(t,e){function i(){o.emitEvent("layoutComplete",[o,t])}var o=this;if(!t||!t.length)return i(),void 0;this._itemsOn(t,"layout",i);for(var n=[],r=0,s=t.length;s>r;r++){var a=t[r],u=this._getItemLayoutPosition(a);u.item=a,u.isInstant=e||a.isLayoutInstant,n.push(u)}this._processLayoutQueue(n)},m.prototype._getItemLayoutPosition=function(){return{x:0,y:0}},m.prototype._processLayoutQueue=function(t){for(var e=0,i=t.length;i>e;e++){var o=t[e];this._positionItem(o.item,o.x,o.y,o.isInstant)}},m.prototype._positionItem=function(t,e,i,o){o?t.goTo(e,i):t.moveTo(e,i)},m.prototype._postLayout=function(){this.resizeContainer()},m.prototype.resizeContainer=function(){if(this.options.isResizingContainer){var t=this._getContainerSize();t&&(this._setContainerMeasure(t.width,!0),this._setContainerMeasure(t.height,!1))}},m.prototype._getContainerSize=h,m.prototype._setContainerMeasure=function(t,e){if(void 0!==t){var i=this.size;i.isBorderBox&&(t+=e?i.paddingLeft+i.paddingRight+i.borderLeftWidth+i.borderRightWidth:i.paddingBottom+i.paddingTop+i.borderTopWidth+i.borderBottomWidth),t=Math.max(t,0),this.element.style[e?"width":"height"]=t+"px"}},m.prototype._itemsOn=function(t,e,i){function o(){return n++,n===r&&i.call(s),!0}for(var n=0,r=t.length,s=this,a=0,u=t.length;u>a;a++){var p=t[a];p.on(e,o)}},m.prototype.ignore=function(t){var e=this.getItem(t);e&&(e.isIgnored=!0)},m.prototype.unignore=function(t){var e=this.getItem(t);e&&delete e.isIgnored},m.prototype.stamp=function(t){if(t=this._find(t)){this.stamps=this.stamps.concat(t);for(var e=0,i=t.length;i>e;e++){var o=t[e];this.ignore(o)}}},m.prototype.unstamp=function(t){if(t=this._find(t))for(var e=0,i=t.length;i>e;e++){var o=t[e];n(o,this.stamps),this.unignore(o)}},m.prototype._find=function(t){return t?("string"==typeof t&&(t=this.element.querySelectorAll(t)),t=o(t)):void 0},m.prototype._manageStamps=function(){if(this.stamps&&this.stamps.length){this._getBoundingRect();for(var t=0,e=this.stamps.length;e>t;t++){var i=this.stamps[t];this._manageStamp(i)}}},m.prototype._getBoundingRect=function(){var t=this.element.getBoundingClientRect(),e=this.size;this._boundingRect={left:t.left+e.paddingLeft+e.borderLeftWidth,top:t.top+e.paddingTop+e.borderTopWidth,right:t.right-(e.paddingRight+e.borderRightWidth),bottom:t.bottom-(e.paddingBottom+e.borderBottomWidth)}},m.prototype._manageStamp=h,m.prototype._getElementOffset=function(t){var e=t.getBoundingClientRect(),i=this._boundingRect,o=l(t),n={left:e.left-i.left-o.marginLeft,top:e.top-i.top-o.marginTop,right:i.right-e.right-o.marginRight,bottom:i.bottom-e.bottom-o.marginBottom};return n},m.prototype.handleEvent=function(t){var e="on"+t.type;this[e]&&this[e](t)},m.prototype.bindResize=function(){this.isResizeBound||(i.bind(t,"resize",this),this.isResizeBound=!0)},m.prototype.unbindResize=function(){this.isResizeBound&&i.unbind(t,"resize",this),this.isResizeBound=!1},m.prototype.onresize=function(){function t(){e.resize(),delete e.resizeTimeout}this.resizeTimeout&&clearTimeout(this.resizeTimeout);var e=this;this.resizeTimeout=setTimeout(t,100)},m.prototype.resize=function(){this.isResizeBound&&this.needsResizeLayout()&&this.layout()},m.prototype.needsResizeLayout=function(){var t=l(this.element),e=this.size&&t;return e&&t.innerWidth!==this.size.innerWidth},m.prototype.addItems=function(t){var e=this._itemize(t);return e.length&&(this.items=this.items.concat(e)),e},m.prototype.appended=function(t){var e=this.addItems(t);e.length&&(this.layoutItems(e,!0),this.reveal(e))},m.prototype.prepended=function(t){var e=this._itemize(t);if(e.length){var i=this.items.slice(0);this.items=e.concat(i),this._resetLayout(),this._manageStamps(),this.layoutItems(e,!0),this.reveal(e),this.layoutItems(i)}},m.prototype.reveal=function(t){var e=t&&t.length;if(e)for(var i=0;e>i;i++){var o=t[i];o.reveal()}},m.prototype.hide=function(t){var e=t&&t.length;if(e)for(var i=0;e>i;i++){var o=t[i];o.hide()}},m.prototype.getItem=function(t){for(var e=0,i=this.items.length;i>e;e++){var o=this.items[e];if(o.element===t)return o}},m.prototype.getItems=function(t){if(t&&t.length){for(var e=[],i=0,o=t.length;o>i;i++){var n=t[i],r=this.getItem(n);r&&e.push(r)}return e}},m.prototype.remove=function(t){t=o(t);var e=this.getItems(t);if(e&&e.length){this._itemsOn(e,"remove",function(){this.emitEvent("removeComplete",[this,e])});for(var i=0,r=e.length;r>i;i++){var s=e[i];s.remove(),n(s,this.items)}}},m.prototype.destroy=function(){var t=this.element.style;t.height="",t.position="",t.width="";for(var e=0,i=this.items.length;i>e;e++){var o=this.items[e];o.destroy()}this.unbindResize(),delete this.element.outlayerGUID,p&&p.removeData(this.element,this.constructor.namespace)},m.data=function(t){var e=t&&t.outlayerGUID;return e&&v[e]},m.create=function(t,i){function o(){m.apply(this,arguments)}return Object.create?o.prototype=Object.create(m.prototype):e(o.prototype,m.prototype),o.prototype.constructor=o,o.defaults=e({},m.defaults),e(o.defaults,i),o.prototype.settings={},o.namespace=t,o.data=m.data,o.Item=function(){y.apply(this,arguments)},o.Item.prototype=new y,s(function(){for(var e=r(t),i=a.querySelectorAll(".js-"+e),n="data-"+e+"-options",s=0,h=i.length;h>s;s++){var f,d=i[s],l=d.getAttribute(n);try{f=l&&JSON.parse(l)}catch(c){u&&u.error("Error parsing "+n+" on "+d.nodeName.toLowerCase()+(d.id?"#"+d.id:"")+": "+c);continue}var y=new o(d,f);p&&p.data(d,t,y)}}),p&&p.bridget&&p.bridget(t,o),o},m.Item=y,m}var a=t.document,u=t.console,p=t.jQuery,h=function(){},f=Object.prototype.toString,d="object"==typeof HTMLElement?function(t){return t instanceof HTMLElement}:function(t){return t&&"object"==typeof t&&1===t.nodeType&&"string"==typeof t.nodeName},l=Array.prototype.indexOf?function(t,e){return t.indexOf(e)}:function(t,e){for(var i=0,o=t.length;o>i;i++)if(t[i]===e)return i;return-1};"function"==typeof define&&define.amd?define("outlayer/outlayer",["eventie/eventie","doc-ready/doc-ready","eventEmitter/EventEmitter","get-size/get-size","matches-selector/matches-selector","./item"],s):t.Outlayer=s(t.eventie,t.docReady,t.EventEmitter,t.getSize,t.matchesSelector,t.Outlayer.Item)}(window),function(t){function e(t){function e(){t.Item.apply(this,arguments)}e.prototype=new t.Item,e.prototype._create=function(){this.id=this.layout.itemGUID++,t.Item.prototype._create.call(this),this.sortData={}},e.prototype.updateSortData=function(){if(!this.isIgnored){this.sortData.id=this.id,this.sortData["original-order"]=this.id,this.sortData.random=Math.random();var t=this.layout.options.getSortData,e=this.layout._sorters;for(var i in t){var o=e[i];this.sortData[i]=o(this.element,this)}}};var i=e.prototype.destroy;return e.prototype.destroy=function(){i.apply(this,arguments),this.css({display:""})},e}"function"==typeof define&&define.amd?define("isotope/js/item",["outlayer/outlayer"],e):(t.Isotope=t.Isotope||{},t.Isotope.Item=e(t.Outlayer))}(window),function(t){function e(t,e){function i(t){this.isotope=t,t&&(this.options=t.options[this.namespace],this.element=t.element,this.items=t.filteredItems,this.size=t.size)}return function(){function t(t){return function(){return e.prototype[t].apply(this.isotope,arguments)}}for(var o=["_resetLayout","_getItemLayoutPosition","_manageStamp","_getContainerSize","_getElementOffset","needsResizeLayout"],n=0,r=o.length;r>n;n++){var s=o[n];i.prototype[s]=t(s)}}(),i.prototype.needsVerticalResizeLayout=function(){var e=t(this.isotope.element),i=this.isotope.size&&e;return i&&e.innerHeight!==this.isotope.size.innerHeight},i.prototype._getMeasurement=function(){this.isotope._getMeasurement.apply(this,arguments)},i.prototype.getColumnWidth=function(){this.getSegmentSize("column","Width")},i.prototype.getRowHeight=function(){this.getSegmentSize("row","Height")},i.prototype.getSegmentSize=function(t,e){var i=t+e,o="outer"+e;if(this._getMeasurement(i,o),!this[i]){var n=this.getFirstItemSize();this[i]=n&&n[o]||this.isotope.size["inner"+e]}},i.prototype.getFirstItemSize=function(){var e=this.isotope.filteredItems[0];return e&&e.element&&t(e.element)},i.prototype.layout=function(){this.isotope.layout.apply(this.isotope,arguments)},i.prototype.getSize=function(){this.isotope.getSize(),this.size=this.isotope.size},i.modes={},i.create=function(t,e){function o(){i.apply(this,arguments)}return o.prototype=new i,e&&(o.options=e),o.prototype.namespace=t,i.modes[t]=o,o},i}"function"==typeof define&&define.amd?define("isotope/js/layout-mode",["get-size/get-size","outlayer/outlayer"],e):(t.Isotope=t.Isotope||{},t.Isotope.LayoutMode=e(t.getSize,t.Outlayer))}(window),function(t){function e(t,e){var o=t.create("masonry");return o.prototype._resetLayout=function(){this.getSize(),this._getMeasurement("columnWidth","outerWidth"),this._getMeasurement("gutter","outerWidth"),this.measureColumns();var t=this.cols;for(this.colYs=[];t--;)this.colYs.push(0);this.maxY=0},o.prototype.measureColumns=function(){if(this.getContainerWidth(),!this.columnWidth){var t=this.items[0],i=t&&t.element;this.columnWidth=i&&e(i).outerWidth||this.containerWidth}this.columnWidth+=this.gutter,this.cols=Math.floor((this.containerWidth+this.gutter)/this.columnWidth),this.cols=Math.max(this.cols,1)},o.prototype.getContainerWidth=function(){var t=this.options.isFitWidth?this.element.parentNode:this.element,i=e(t);this.containerWidth=i&&i.innerWidth},o.prototype._getItemLayoutPosition=function(t){t.getSize();var e=t.size.outerWidth%this.columnWidth,o=e&&1>e?"round":"ceil",n=Math[o](t.size.outerWidth/this.columnWidth);n=Math.min(n,this.cols);for(var r=this._getColGroup(n),s=Math.min.apply(Math,r),a=i(r,s),u={x:this.columnWidth*a,y:s},p=s+t.size.outerHeight,h=this.cols+1-r.length,f=0;h>f;f++)this.colYs[a+f]=p;return u},o.prototype._getColGroup=function(t){if(2>t)return this.colYs;for(var e=[],i=this.cols+1-t,o=0;i>o;o++){var n=this.colYs.slice(o,o+t);e[o]=Math.max.apply(Math,n)}return e},o.prototype._manageStamp=function(t){var i=e(t),o=this._getElementOffset(t),n=this.options.isOriginLeft?o.left:o.right,r=n+i.outerWidth,s=Math.floor(n/this.columnWidth);s=Math.max(0,s);var a=Math.floor(r/this.columnWidth);a-=r%this.columnWidth?0:1,a=Math.min(this.cols-1,a);for(var u=(this.options.isOriginTop?o.top:o.bottom)+i.outerHeight,p=s;a>=p;p++)this.colYs[p]=Math.max(u,this.colYs[p])},o.prototype._getContainerSize=function(){this.maxY=Math.max.apply(Math,this.colYs);var t={height:this.maxY};return this.options.isFitWidth&&(t.width=this._getContainerFitWidth()),t},o.prototype._getContainerFitWidth=function(){for(var t=0,e=this.cols;--e&&0===this.colYs[e];)t++;return(this.cols-t)*this.columnWidth-this.gutter},o.prototype.needsResizeLayout=function(){var t=this.containerWidth;return this.getContainerWidth(),t!==this.containerWidth},o}var i=Array.prototype.indexOf?function(t,e){return t.indexOf(e)}:function(t,e){for(var i=0,o=t.length;o>i;i++){var n=t[i];if(n===e)return i}return-1};"function"==typeof define&&define.amd?define("masonry/masonry",["outlayer/outlayer","get-size/get-size"],e):t.Masonry=e(t.Outlayer,t.getSize)}(window),function(t){function e(t,e){for(var i in e)t[i]=e[i];return t}function i(t,i){var o=t.create("masonry"),n=o.prototype._getElementOffset,r=o.prototype.layout,s=o.prototype._getMeasurement;e(o.prototype,i.prototype),o.prototype._getElementOffset=n,o.prototype.layout=r,o.prototype._getMeasurement=s;var a=o.prototype.measureColumns;o.prototype.measureColumns=function(){this.items=this.isotope.filteredItems,a.call(this)};var u=o.prototype._manageStamp;return o.prototype._manageStamp=function(){this.options.isOriginLeft=this.isotope.options.isOriginLeft,this.options.isOriginTop=this.isotope.options.isOriginTop,u.apply(this,arguments)},o}"function"==typeof define&&define.amd?define("isotope/js/layout-modes/masonry",["../layout-mode","masonry/masonry"],i):i(t.Isotope.LayoutMode,t.Masonry)}(window),function(t){function e(t){var e=t.create("fitRows");return e.prototype._resetLayout=function(){this.x=0,this.y=0,this.maxY=0},e.prototype._getItemLayoutPosition=function(t){t.getSize(),0!==this.x&&t.size.outerWidth+this.x>this.isotope.size.innerWidth&&(this.x=0,this.y=this.maxY);var e={x:this.x,y:this.y};return this.maxY=Math.max(this.maxY,this.y+t.size.outerHeight),this.x+=t.size.outerWidth,e},e.prototype._getContainerSize=function(){return{height:this.maxY}},e}"function"==typeof define&&define.amd?define("isotope/js/layout-modes/fit-rows",["../layout-mode"],e):e(t.Isotope.LayoutMode)}(window),function(t){function e(t){var e=t.create("vertical",{horizontalAlignment:0});return e.prototype._resetLayout=function(){this.y=0},e.prototype._getItemLayoutPosition=function(t){t.getSize();var e=(this.isotope.size.innerWidth-t.size.outerWidth)*this.options.horizontalAlignment,i=this.y;return this.y+=t.size.outerHeight,{x:e,y:i}},e.prototype._getContainerSize=function(){return{height:this.y}},e}"function"==typeof define&&define.amd?define("isotope/js/layout-modes/vertical",["../layout-mode"],e):e(t.Isotope.LayoutMode)}(window),function(t){function e(t,e){for(var i in e)t[i]=e[i];return t}function i(t){return"[object Array]"===h.call(t)}function o(t){var e=[];if(i(t))e=t;else if(t&&"number"==typeof t.length)for(var o=0,n=t.length;n>o;o++)e.push(t[o]);else e.push(t);return e}function n(t,e){var i=f(e,t);-1!==i&&e.splice(i,1)}function r(t,i,r,u,h){function f(t,e){return function(i,o){for(var n=0,r=t.length;r>n;n++){var s=t[n],a=i.sortData[s],u=o.sortData[s];if(a>u||u>a){var p=void 0!==e[s]?e[s]:e,h=p?1:-1;return(a>u?1:-1)*h}}return 0}}var d=t.create("isotope",{layoutMode:"masonry",isJQueryFiltering:!0,sortAscending:!0});d.Item=u,d.LayoutMode=h,d.prototype._create=function(){this.itemGUID=0,this._sorters={},this._getSorters(),t.prototype._create.call(this),this.modes={},this.filteredItems=this.items,this.sortHistory=["original-order"];for(var e in h.modes)this._initLayoutMode(e)},d.prototype.reloadItems=function(){this.itemGUID=0,t.prototype.reloadItems.call(this)},d.prototype._itemize=function(){for(var e=t.prototype._itemize.apply(this,arguments),i=0,o=e.length;o>i;i++){var n=e[i];n.id=this.itemGUID++}return this._updateItemsSortData(e),e},d.prototype._initLayoutMode=function(t){var i=h.modes[t],o=this.options[t]||{};this.options[t]=i.options?e(i.options,o):o,this.modes[t]=new i(this)},d.prototype.layout=function(){return!this._isLayoutInited&&this.options.isInitLayout?(this.arrange(),void 0):(this._layout(),void 0)},d.prototype._layout=function(){var t=this._getIsInstant();this._resetLayout(),this._manageStamps(),this.layoutItems(this.filteredItems,t),this._isLayoutInited=!0},d.prototype.arrange=function(t){this.option(t),this._getIsInstant(),this.filteredItems=this._filter(this.items),this._sort(),this._layout()},d.prototype._init=d.prototype.arrange,d.prototype._getIsInstant=function(){var t=void 0!==this.options.isLayoutInstant?this.options.isLayoutInstant:!this._isLayoutInited;return this._isInstant=t,t},d.prototype._filter=function(t){function e(){f.reveal(n),f.hide(r)}var i=this.options.filter;i=i||"*";for(var o=[],n=[],r=[],s=this._getFilterTest(i),a=0,u=t.length;u>a;a++){var p=t[a];if(!p.isIgnored){var h=s(p);h&&o.push(p),h&&p.isHidden?n.push(p):h||p.isHidden||r.push(p)}}var f=this;return this._isInstant?this._noTransition(e):e(),o},d.prototype._getFilterTest=function(t){return s&&this.options.isJQueryFiltering?function(e){return s(e.element).is(t)}:"function"==typeof t?function(e){return t(e.element)}:function(e){return r(e.element,t)}},d.prototype.updateSortData=function(t){this._getSorters(),t=o(t);
var e=this.getItems(t);e=e.length?e:this.items,this._updateItemsSortData(e)},d.prototype._getSorters=function(){var t=this.options.getSortData;for(var e in t){var i=t[e];this._sorters[e]=l(i)}},d.prototype._updateItemsSortData=function(t){for(var e=0,i=t.length;i>e;e++){var o=t[e];o.updateSortData()}};var l=function(){function t(t){if("string"!=typeof t)return t;var i=a(t).split(" "),o=i[0],n=o.match(/^\[(.+)\]$/),r=n&&n[1],s=e(r,o),u=d.sortDataParsers[i[1]];return t=u?function(t){return t&&u(s(t))}:function(t){return t&&s(t)}}function e(t,e){var i;return i=t?function(e){return e.getAttribute(t)}:function(t){var i=t.querySelector(e);return i&&p(i)}}return t}();d.sortDataParsers={parseInt:function(t){return parseInt(t,10)},parseFloat:function(t){return parseFloat(t)}},d.prototype._sort=function(){var t=this.options.sortBy;if(t){var e=[].concat.apply(t,this.sortHistory),i=f(e,this.options.sortAscending);this.filteredItems.sort(i),t!==this.sortHistory[0]&&this.sortHistory.unshift(t)}},d.prototype._mode=function(){var t=this.options.layoutMode,e=this.modes[t];if(!e)throw Error("No layout mode: "+t);return e.options=this.options[t],e},d.prototype._resetLayout=function(){t.prototype._resetLayout.call(this),this._mode()._resetLayout()},d.prototype._getItemLayoutPosition=function(t){return this._mode()._getItemLayoutPosition(t)},d.prototype._manageStamp=function(t){this._mode()._manageStamp(t)},d.prototype._getContainerSize=function(){return this._mode()._getContainerSize()},d.prototype.needsResizeLayout=function(){return this._mode().needsResizeLayout()},d.prototype.appended=function(t){var e=this.addItems(t);if(e.length){var i=this._filterRevealAdded(e);this.filteredItems=this.filteredItems.concat(i)}},d.prototype.prepended=function(t){var e=this._itemize(t);if(e.length){var i=this.items.slice(0);this.items=e.concat(i),this._resetLayout(),this._manageStamps();var o=this._filterRevealAdded(e);this.layoutItems(i),this.filteredItems=o.concat(this.filteredItems)}},d.prototype._filterRevealAdded=function(t){var e=this._noTransition(function(){return this._filter(t)});return this.layoutItems(e,!0),this.reveal(e),t},d.prototype.insert=function(t){var e=this.addItems(t);if(e.length){var i,o,n=e.length;for(i=0;n>i;i++)o=e[i],this.element.appendChild(o.element);var r=this._filter(e);for(this._noTransition(function(){this.hide(r)}),i=0;n>i;i++)e[i].isLayoutInstant=!0;for(this.arrange(),i=0;n>i;i++)delete e[i].isLayoutInstant;this.reveal(r)}};var c=d.prototype.remove;return d.prototype.remove=function(t){t=o(t);var e=this.getItems(t);if(c.call(this,t),e&&e.length)for(var i=0,r=e.length;r>i;i++){var s=e[i];n(s,this.filteredItems)}},d.prototype.shuffle=function(){for(var t=0,e=this.items.length;e>t;t++){var i=this.items[t];i.sortData.random=Math.random()}this.options.sortBy="random",this._sort(),this._layout()},d.prototype._noTransition=function(t){var e=this.options.transitionDuration;this.options.transitionDuration=0;var i=t.call(this);return this.options.transitionDuration=e,i},d.prototype.getFilteredItemElements=function(){for(var t=[],e=0,i=this.filteredItems.length;i>e;e++)t.push(this.filteredItems[e].element);return t},d}var s=t.jQuery,a=String.prototype.trim?function(t){return t.trim()}:function(t){return t.replace(/^\s+|\s+$/g,"")},u=document.documentElement,p=u.textContent?function(t){return t.textContent}:function(t){return t.innerText},h=Object.prototype.toString,f=Array.prototype.indexOf?function(t,e){return t.indexOf(e)}:function(t,e){for(var i=0,o=t.length;o>i;i++)if(t[i]===e)return i;return-1};"function"==typeof define&&define.amd?define(["outlayer/outlayer","get-size/get-size","matches-selector/matches-selector","isotope/js/item","isotope/js/layout-mode","isotope/js/layout-modes/masonry","isotope/js/layout-modes/fit-rows","isotope/js/layout-modes/vertical"],r):t.Isotope=r(t.Outlayer,t.getSize,t.matchesSelector,t.Isotope.Item,t.Isotope.LayoutMode)}(window);
/*
 *  waitForImages jQuery Plugin 2013-07-20
 */
!function(a){var b="waitForImages";a.waitForImages={hasImageProperties:["backgroundImage","listStyleImage","borderImage","borderCornerImage","cursor"]},a.expr[":"].uncached=function(b){if(!a(b).is('img[src!=""]'))return!1;var c=new Image;return c.src=b.src,!c.complete},a.fn.waitForImages=function(c,d,e){var f=0,g=0;if(a.isPlainObject(arguments[0])&&(e=arguments[0].waitForAll,d=arguments[0].each,c=arguments[0].finished),c=c||a.noop,d=d||a.noop,e=!!e,!a.isFunction(c)||!a.isFunction(d))throw new TypeError("An invalid callback was supplied.");return this.each(function(){var h=a(this),i=[],j=a.waitForImages.hasImageProperties||[],k=/url\(\s*(['"]?)(.*?)\1\s*\)/g;e?h.find("*").addBack().each(function(){var b=a(this);b.is("img:uncached")&&i.push({src:b.attr("src"),element:b[0]}),a.each(j,function(a,c){var d,e=b.css(c);if(!e)return!0;for(;d=k.exec(e);)i.push({src:d[2],element:b[0]})})}):h.find("img:uncached").each(function(){i.push({src:this.src,element:this})}),f=i.length,g=0,0===f&&c.call(h[0]),a.each(i,function(e,i){var j=new Image;a(j).on("load."+b+" error."+b,function(a){return g++,d.call(i.element,g,f,"load"==a.type),g==f?(c.call(h[0]),!1):void 0}),j.src=i.src})})}}(jQuery);
/*
 * lightGallery v.1.1.3
 * http://sachinchoolur.github.io
 */
eval(function(p,a,c,k,e,r){e=function(c){return(c<a?'':e(parseInt(c/a)))+((c=c%a)>35?String.fromCharCode(c+29):c.toString(36))};if(!''.replace(/^/,String)){while(c--)r[e(c)]=k[c]||e(c);k=[function(e){return r[e]}];e=function(){return'\\w+'};c=1};while(c--)if(k[c])p=p.replace(new RegExp('\\b'+e(c)+'\\b','g'),k[c]);return p}('!3(e){"4P 4K";e.4I.8=3(t){7 i,l,a,n,s,d,o,r,c,h,u,m={1h:"E",3w:!0,1f:"4H",M:4G,"B":"",3m:!0,1G:!1,25:!1,3C:4F,2M:!0,2c:!0,3l:!1,13:1,2h:!0,1z:L,1a:!1,1L:!1,2v:{2D:"4D 4A"},1J:!1,1H:!1,18:!0,Y:!0,3r:"3s",1c:1F,1D:5,2l:!1,3I:4z,2w:2x,2B:"4y",1Z:!0,2H:4x,19:!1,R:[],31:3(){},3c:3(){},3e:3(){},3f:3(){},3h:3(){},3i:3(){},3j:3(){}},f=e(4),v=4,p=L,g=0,b=!1,C=!1,y=!1,w=3x 0!==3y.4w||"4u"2e Q||"4t"2e Q||3F.4r,x=!1,S=!1,G=!1,T=e.4q(!0,{},m,t),q={1A:3(){f.2m(3(){7 t=e(4);1==T.19?(p=T.R,g=0,o=g,k.1A(g)):(p=L!==T.1z?e(T.1z):t.2E(),p.Z("12",3(i){p=L!==T.1z?e(T.1z):t.2E(),i.1v(),i.1V(),g=p.1a(4),o=g,k.1A(g)}))})}},k={1A:3(){C=!0,4.2P(),4.2R(),4.2U(),4.2X(),4.1J(),4.2Y(),4.2Z(),4.30(),T.1a?(4.E(T.1a),4.Y(T.1a)):(4.E(g),4.Y(g)),0==b&&4.26(),4.3a(),11(3(){i.9("4n")},2x)},2P:3(){e("1l").17(\'<j P="8-23" B="\'+T.B+\'"><j P="8-3k"><j P="8-2f"></j><a P="8-1u" B="1u"></a></j></j>\').9("8"),l=e("#8-23"),i=e("#8-3k"),T.2h===!0&&i.9("2h"),a=i.A("#8-2f");7 t="";N(1==T.19)1x(7 s=0;s<T.R.D;s++)t+=\'<j B="8-E"></j>\';1Y p.2m(3(){t+=\'<j B="8-E"></j>\'});a.17(t),n=i.A(".8-E")},2U:3(){T.3m&&e("#8-23").Z("12",3(t){b?(e(t.1o).1p("#8-23")||e(t.1o).1p(".H")||e(t.1o).1p(".I")||e(t.1o).1p(".H *")||e(t.1o).1p(".I *"))&&v.1E(!1):e(t.1o).1p(".8-E")&&v.1E(!1)}),e("#8-1u").O("12 1r",3(){v.1E(!1)})},2R:3(){7 t=3(){h=e(Q).1e()};e(Q).O("1T.8",t())},J:3(){7 e=3(){1x(7 e=["1S","3J","4l","4k","4h","4g"],t=3y.4f,i=0;i<e.D;i++)N(e[i]2e t.3o)1s!0};1s T.3w&&e()?!0:!1},3a:3(){7 t=4;N(w){7 i={},l={};e("1l").Z("2n.8",3(e){l=e.1P.1Q[0],i.1g=e.1P.1Q[0].1g,i.2F=e.1P.1Q[0].2F}),e("1l").Z("2G.8",3(e){7 t=e.1P;l=t.1Q[0],e.1v()}),e("1l").Z("1r.8",3(){7 e=l.1g-i.1g,a=T.2w;e>=a?(t.H(),W(u)):-a>=e&&(t.I(),W(u))})}},26:3(){7 t,i,l=4;e(".8").O("2I",3(e){e.1V(),e.1v(),t=e.1g}),e(".8").O("2J",3(e){e.1V(),e.1v(),i=e.1g,i-t>20?l.H():t-i>20&&l.I()})},2K:3(e,t){7 i=e.1K(/\\/\\/(?:1I\\.)?2N(?:\\.1U|1U\\.1q)\\/(?:2Q\\?v=|2k\\/)?([a-2S-2T\\-]+)/i),l=e.1K(/\\/\\/(?:1I\\.)?2i.1q\\/([0-2V-z\\-2W]+)/i),a=!1;1s 1==T.19?"1X"==T.R[t].15&&(a=!0):"1X"===p.6(t).10("1t-15")&&(a=!0),i||l||a?!0:3x 0},32:3(e,t){7 i=e.1K(/\\/\\/(?:1I\\.)?2N(?:\\.1U|1U\\.1q)\\/(?:2Q\\?v=|2k\\/)?([a-2S-2T\\-]+)/i),l=e.1K(/\\/\\/(?:1I\\.)?2i.1q\\/([0-2V-z\\-2W]+)/i),a="",n="";1s i?(n=T.1Z===!0&&y===!1?"?33=1&4c=0&35=36":"?35=36",a=\'<15 B="U" 1e="3b" 1n="3d" V="//1I.4a.1q/2k/\'+i[1]+n+\'" 2t="0" 3g></15>\'):l?(n=T.1Z===!0&&y===!1?"33=1&2j;":"",a=\'<15 B="U" P="29\'+t+\'" 1e="3b" 1n="3d"  V="49://48.2i.1q/29/\'+l[1]+"?"+n+"47=0&2j;46=0&2j;45="+T.2B+\'" 2t="0" 42 3Z 3T></15>\'):a=\'<15 B="U" 2t="0" V="\'+e+\'"  3g="1X"></15>\',\'<j B="3S" 3o="3R-1e:\'+T.2H+\'1k !3P;"><j B="29">\'+a+"</j></j>"},1W:3(t){N(T.1L===!0){7 i=!1,l=L,a=L,s=L;N(1==T.19?(a=T.R[t].1L,s=T.R[t].3v):(a=p.6(t).10("1t-1L"),s=p.6(t).10("1t-3v")),"1j"!=1i a&&L!==a){7 d=a.3O(0,1);l="."==d||"#"==d?e(a).1L():a}1Y"1j"!=1i s&&L!==s&&(l=s,i=!0);"1j"==1i l||L===l||n.6(t).K("1m")||(i?(n.6(t).17(\'<j B="3A 3L 4m"></j>\'),n.6(t).A(".3A").2q(l)):n.6(t).17(l))}},13:3(e){1x(7 t=e,i=0;i<=T.13&&!(i>=p.D-e);i++)4.1C(t+i,!0);1x(7 l=0;l<=T.13&&!(0>t-l);l++)4.1C(t-l,!0)},2r:3(e,t){7 i=4;n.6(t).A(".U").Z("2q 3G",3(){n.6(t).9("2s")}),e===!1&&(n.6(t).K("2s")?i.13(t):n.6(t).A(".U").Z("2q 3G",3(){i.13(t)}))},1C:3(e,t){{7 i,a=4;p.D-e}T.13>p.D&&(T.13=p.D),i=T.2l===!0&&h<=T.3I?1==T.19?T.R[e].2l:p.6(e).10("1t-3K-V"):1==T.19?T.R[e].V:p.6(e).10("1t-V");7 s=0;t===!0&&(s=T.M+1N),"1j"!=1i i&&L!==i?(b=!1,a.2K(i,e)?11(3(){n.6(e).K("1m")||(n.6(e).2p(a.32(i,e)),a.1W(e),n.6(e).9("1m"),T.25&&T.1Z===!0&&W(u)),a.2r(t,e)},s):11(3(){n.6(e).K("1m")||(n.6(e).2p(\'<1O B="U" V="\'+i+\'" />\'),a.1W(e),n.6(e).9("1m")),a.2r(t,e)},s)):(b=!0,a.1W(e),l.9("3M"),n.6(e).9("1m 2s"))},1J:3(){N(T.1J===!0){7 t=e("#8-2f > j").D;i.17("<j P=\'3N\'><14 P=\'3t\'></14> / <14 P=\'3Q\'>"+t+"</14></j>")}},2Z:3(){N(T.18===!0&&p.D>1){7 t=4;i.17(\'<j B="2g"><j B="3q"><14 B="1u 3p"><i B="3U-3V-3W-16" 3X-3Y="1X"></i></14></j><j B="1B"></j></j>\'),r=i.A(".2g"),s.41(\'<a B="3n"></a>\'),s.43().9("44"),i.A(".3n").O("12 1r",3(){r.9("X"),t.J()&&"E"===T.1h&&(n.6(g).2d().F("I").9("H"),n.6(g).2b().F("H").9("I"))}),i.A(".1u").O("12 1r",3(){r.F("X")});7 l,a=i.A(".3q"),d=i.A(".1B"),o="";N(1==T.19)1x(7 h=0;h<T.R.D;h++)l=T.R[h].24,o+=\'<j B="24"><1O V="\'+l+\'" /></j>\';1Y p.2m(3(){l=T.1H===!1||"1j"==1i e(4).10(T.1H)||L==e(4).10(T.1H)?e(4).A("1O").10("V"):e(4).10(T.1H),o+=\'<j B="24"><1O V="\'+l+\'" /></j>\'});N(d.17(o),c=d.A(".24"),c.1b({"4b-34":T.1D+"1k",1e:T.1c+"1k"}),T.Y===!0){7 m=p.D*(T.1c+T.1D);i.A(".1B").1b({1e:m+"1k",4d:"4e","1S-2z":T.M+"2y"})}c.O("12 1r",3(){x=!0;7 i=e(4).1a();c.F("1M"),e(4).9("1M"),t.E(i),t.Y(i),W(u)}),a.2p(\'<14 B="3p 4i">\'+T.2v.2D+" ("+c.D+")</14>")}},Y:3(e){N(T.Y===!0){7 t,l=i.A(".2g").1e();4j(T.3r){2o"1R":t=0;2u;2o"3s":t=l/2-T.1c/2;2u;2o"34":t=l-T.1c}7 a=(T.1c+T.1D)*e-1-t,n=p.D*(T.1c+T.1D);a>n-l&&(a=n-l),0>a&&(a=0),4.J()?i.A(".1B").1b("4o","4p(-"+a+"1k, 2A, 2A)"):i.A(".1B").22({1R:-a+"1k"},T.M)}},2Y:3(){7 e=4;T.2c===!0&&p.D>1&&(i.17(\'<j P="8-4s"><a P="8-3E"></a><a P="8-3B"></a></j>\'),s=i.A("#8-3E"),d=i.A("#8-3B"),s.O("12",3(){e.H(),W(u)}),d.O("12",3(){e.I(),W(u)}))},2X:3(){7 e=4;T.25===!0&&(u=4v(3(){g=g+1<p.D?g:-1,g++,e.E(g)},T.3C))},30:3(){7 t=4;e(Q).O("3z.8",3(e){e.1v(),e.1V(),37===e.1w&&(t.H(),W(u)),38===e.1w&&T.18===!0?r.K("X")||(t.J()&&"E"===T.1h&&(n.6(g).2d().F("I").9("H"),n.6(g).2b().F("H").9("I")),r.9("X")):39===e.1w&&(t.I(),W(u)),40===e.1w&&T.18===!0?r.K("X")&&r.F("X"):T.2M===!0&&27===e.1w&&(T.18===!0&&r.K("X")?r.F("X"):v.1E(!1))})},I:3(){7 e=4;g=n.1a(n.6(o)),g+1<p.D?(g++,e.E(g)):T.1G?(g=0,e.E(g)):T.18===!0&&p.D>1?r.9("X"):(n.6(g).A(".U").9("2C"),11(3(){n.A(".U").F("2C")},1N)),e.Y(g),T.3f.1d(4,v)},H:3(){7 e=4;g=n.1a(n.6(o)),g>0?(g--,e.E(g)):T.1G?(g=p.D-1,e.E(g)):T.18===!0&&p.D>1?r.9("X"):(n.6(g).A(".U").9("3D"),11(3(){n.A(".U").F("3D")},1N)),e.Y(g),T.3h.1d(4,v)},E:3(t){7 i=4;N(y?(11(3(){i.1C(t,!1)},T.M+1N),a.K("Z")||a.9("Z"),4.J()&&""!==T.M&&(a.K("M")||a.9("M"),G===!1&&(a.1b("1S-2z",T.M+"2y"),G=!0)),4.J()&&""!==T.1f&&(a.K("28")||a.9("28"),S===!1&&(a.1b("1S-28-3",T.1f),S=!0)),T.3c.1d(4,v)):i.1C(t,!1),"E"===T.1h){7 l=L!=3F.4B.1K(/4C/i);!4.J()||a.K("E")||l?4.J()&&!a.K("2L")&&l&&a.9("2L"):a.9("E"),4.J()||y?!4.J()&&y&&a.22({1R:1F*-t+"%"},T.M,T.1f):a.1b({1R:1F*-t+"%"})}1Y"4E"===T.1h&&(4.J()&&!a.K("2a")?a.9("2a"):4.J()||a.K("22")||a.9("22"),4.J()||y?!4.J()&&y&&(n.6(o).3H(T.M,T.1f),n.6(t).3u(T.M,T.1f)):(n.3H(1F),n.6(t).3u(1F)));N(t+1>=p.D&&T.25&&T.1G===!1&&W(u),n.6(o).F("2O"),n.6(t).9("2O"),4.J()&&"E"===T.1h&&(x===!1?(e(".H").F("H"),e(".I").F("I"),n.6(t-1).9("H"),n.6(t+1).9("I")):(n.6(t).2d().F("I").9("H"),n.6(t).2b().F("H").9("I"))),T.18===!0&&p.D>1&&(c.F("1M"),c.6(t).9("1M")),T.2c&&T.3l&&T.1G===!1&&p.D>1){7 r=p.D;r=4J(r)-1,0===t?(s.9("1y"),d.F("1y")):t===r?(s.F("1y"),d.9("1y")):s.4L(d).F("1y")}o=t,y===!1?T.31.1d(4,v):T.3e.1d(4,v),11(3(){y=!0}),x=!1,T.1J&&e("#3t").4M(t+1),b&&(n.1b("1n",e(Q).1n()),e(Q).Z("1T.8",3(){n.1b("1n",e(Q).1n())})),e(Q).O("1T.8",3(){11(3(){i.Y(t)},4N)})}};1s v.4O=3(){1s C===!0?!0:!1},v.1E=3(t){C=!1,t="1j"!=1i t?!1:!0,T.3i.1d(4,v);7 a=y;y=!1,S=!1,G=!1,x=!1,W(u),t===!0&&p.21("12 26 2n"),e(".8").21("2I 2J"),e("1l").21("2n.8 2G.8 1r.8"),e(Q).21("1T.8 3z.8"),a===!0&&(i.9("2a"),11(3(){l.4Q(),e("1l").F("8")},4R)),T.3j.1d(4,v)},q.1A(),4}}(4S);',62,303,'|||function|this||eq|var|lightGallery|addClass||||||||||div|||||||||||||||||find|class||length|slide|removeClass||prevSlide|nextSlide|doCss|hasClass|null|speed|if|bind|id|window|dynamicEl|||object|src|clearInterval|open|animateThumb|on|attr|setTimeout|click|preload|span|iframe||append|thumbnail|dynamic|index|css|thumbWidth|call|width|easing|pageX|mode|typeof|undefined|px|body|loaded|height|target|is|com|touchend|return|data|close|preventDefault|keyCode|for|disabled|selector|init|thumb_inner|loadContent|thumbMargin|destroy|100|wall|exThumbImage|www|counter|match|html|active|400|img|originalEvent|targetTouches|left|transition|resize|be|stopPropagation|addHtml|true|else|videoAutoplay||off|animate|outer|thumb|auto|touch||timing|video|fadeM|nextAll|controls|prevAll|in|slider|thumb_cont|showAfterLoad|vimeo|amp|embed|mobileSrc|each|touchstart|case|prepend|load|loadObj|complete|frameborder|break|lang|swipeThreshold|50|ms|duration|0px|vimeoColor|rightEnd|allPhotos|children|pageY|touchmove|videoMaxWidth|mousedown|mouseup|isVideo|useLeft|escKey|youtu|current|structure|watch|getWidth|z0|9_|closeSlide|9a|_|autoStart|slideTo|buildThumbnail|keyPress|onOpen|loadVideo|autoplay|right|wmode|opaque||||enableTouch|560|onSlideBefore|315|onSlideAfter|onSlideNext|allowfullscreen|onSlidePrev|onBeforeClose|onCloseAfter|Gallery|hideControlOnEnd|closable|cLthumb|style|ib|thumb_info|currentPagerPosition|middle|lightGallery_counter_current|fadeIn|url|useCSS|void|document|keyup|ext|next|pause|leftEnd|prev|navigator|error|fadeOut|mobileSrcMaxWidth|MozTransition|responsive|info|external|lightGallery_counter|substring|important|lightGallery_counter_all|max|video_cont|allowFullScreen|bUi|iCn|rMv|aria|hidden|mozallowfullscreen||after|webkitAllowFullScreen|parent|hasThumb|color|portrait|byline|player|http|youtube|margin|rel|position|relative|documentElement|KhtmlTransition|msTransition|count|switch|OTransition|WebkitTransition|group|opacity|transform|translate3d|extend|msMaxTouchPoints|action|onmsgesturechange|ontouchstart|setInterval|createTouch|855|CCCCCC|640|photos|userAgent|iPad|All|fade|4e3|1e3|ease|fn|parseInt|strict|add|text|200|isActive|use|remove|500|jQuery'.split('|'),0,{}));
/*
 * TouchSwipe
 */
(function(a){if(typeof define==="function"&&define.amd&&define.amd.jQuery){define(["jquery"],a)}else{a(jQuery)}}(function(f){var p="left",o="right",e="up",x="down",c="in",z="out",m="none",s="auto",l="swipe",t="pinch",A="tap",j="doubletap",b="longtap",y="hold",D="horizontal",u="vertical",i="all",r=10,g="start",k="move",h="end",q="cancel",a="ontouchstart" in window,v=window.navigator.msPointerEnabled&&!window.navigator.pointerEnabled,d=window.navigator.pointerEnabled||window.navigator.msPointerEnabled,B="TouchSwipe";var n={fingers:1,threshold:75,cancelThreshold:null,pinchThreshold:20,maxTimeThreshold:null,fingerReleaseThreshold:250,longTapThreshold:500,doubleTapThreshold:200,swipe:null,swipeLeft:null,swipeRight:null,swipeUp:null,swipeDown:null,swipeStatus:null,pinchIn:null,pinchOut:null,pinchStatus:null,click:null,tap:null,doubleTap:null,longTap:null,hold:null,triggerOnTouchEnd:true,triggerOnTouchLeave:false,allowPageScroll:"auto",fallbackToMouseEvents:true,excludedElements:"label, button, input, select, textarea, a, .noSwipe"};f.fn.swipe=function(G){var F=f(this),E=F.data(B);if(E&&typeof G==="string"){if(E[G]){return E[G].apply(this,Array.prototype.slice.call(arguments,1))}else{f.error("Method "+G+" does not exist on jQuery.swipe")}}else{if(!E&&(typeof G==="object"||!G)){return w.apply(this,arguments)}}return F};f.fn.swipe.defaults=n;f.fn.swipe.phases={PHASE_START:g,PHASE_MOVE:k,PHASE_END:h,PHASE_CANCEL:q};f.fn.swipe.directions={LEFT:p,RIGHT:o,UP:e,DOWN:x,IN:c,OUT:z};f.fn.swipe.pageScroll={NONE:m,HORIZONTAL:D,VERTICAL:u,AUTO:s};f.fn.swipe.fingers={ONE:1,TWO:2,THREE:3,ALL:i};function w(E){if(E&&(E.allowPageScroll===undefined&&(E.swipe!==undefined||E.swipeStatus!==undefined))){E.allowPageScroll=m}if(E.click!==undefined&&E.tap===undefined){E.tap=E.click}if(!E){E={}}E=f.extend({},f.fn.swipe.defaults,E);return this.each(function(){var G=f(this);var F=G.data(B);if(!F){F=new C(this,E);G.data(B,F)}})}function C(a4,av){var az=(a||d||!av.fallbackToMouseEvents),J=az?(d?(v?"MSPointerDown":"pointerdown"):"touchstart"):"mousedown",ay=az?(d?(v?"MSPointerMove":"pointermove"):"touchmove"):"mousemove",U=az?(d?(v?"MSPointerUp":"pointerup"):"touchend"):"mouseup",S=az?null:"mouseleave",aD=(d?(v?"MSPointerCancel":"pointercancel"):"touchcancel");var ag=0,aP=null,ab=0,a1=0,aZ=0,G=1,aq=0,aJ=0,M=null;var aR=f(a4);var Z="start";var W=0;var aQ=null;var T=0,a2=0,a5=0,ad=0,N=0;var aW=null,af=null;try{aR.bind(J,aN);aR.bind(aD,a9)}catch(ak){f.error("events not supported "+J+","+aD+" on jQuery.swipe")}this.enable=function(){aR.bind(J,aN);aR.bind(aD,a9);return aR};this.disable=function(){aK();return aR};this.destroy=function(){aK();aR.data(B,null);return aR};this.option=function(bc,bb){if(av[bc]!==undefined){if(bb===undefined){return av[bc]}else{av[bc]=bb}}else{f.error("Option "+bc+" does not exist on jQuery.swipe.options")}return null};function aN(bd){if(aB()){return}if(f(bd.target).closest(av.excludedElements,aR).length>0){return}var be=bd.originalEvent?bd.originalEvent:bd;var bc,bb=a?be.touches[0]:be;Z=g;if(a){W=be.touches.length}else{bd.preventDefault()}ag=0;aP=null;aJ=null;ab=0;a1=0;aZ=0;G=1;aq=0;aQ=aj();M=aa();R();if(!a||(W===av.fingers||av.fingers===i)||aX()){ai(0,bb);T=at();if(W==2){ai(1,be.touches[1]);a1=aZ=au(aQ[0].start,aQ[1].start)}if(av.swipeStatus||av.pinchStatus){bc=O(be,Z)}}else{bc=false}if(bc===false){Z=q;O(be,Z);return bc}else{if(av.hold){af=setTimeout(f.proxy(function(){aR.trigger("hold",[be.target]);if(av.hold){bc=av.hold.call(aR,be,be.target)}},this),av.longTapThreshold)}ao(true)}return null}function a3(be){var bh=be.originalEvent?be.originalEvent:be;if(Z===h||Z===q||am()){return}var bd,bc=a?bh.touches[0]:bh;var bf=aH(bc);a2=at();if(a){W=bh.touches.length}if(av.hold){clearTimeout(af)}Z=k;if(W==2){if(a1==0){ai(1,bh.touches[1]);a1=aZ=au(aQ[0].start,aQ[1].start)}else{aH(bh.touches[1]);aZ=au(aQ[0].end,aQ[1].end);aJ=ar(aQ[0].end,aQ[1].end)}G=a7(a1,aZ);aq=Math.abs(a1-aZ)}if((W===av.fingers||av.fingers===i)||!a||aX()){aP=aL(bf.start,bf.end);al(be,aP);ag=aS(bf.start,bf.end);ab=aM();aI(aP,ag);if(av.swipeStatus||av.pinchStatus){bd=O(bh,Z)}if(!av.triggerOnTouchEnd||av.triggerOnTouchLeave){var bb=true;if(av.triggerOnTouchLeave){var bg=aY(this);bb=E(bf.end,bg)}if(!av.triggerOnTouchEnd&&bb){Z=aC(k)}else{if(av.triggerOnTouchLeave&&!bb){Z=aC(h)}}if(Z==q||Z==h){O(bh,Z)}}}else{Z=q;O(bh,Z)}if(bd===false){Z=q;O(bh,Z)}}function L(bb){var bc=bb.originalEvent;if(a){if(bc.touches.length>0){F();return true}}if(am()){W=ad}a2=at();ab=aM();if(ba()||!an()){Z=q;O(bc,Z)}else{if(av.triggerOnTouchEnd||(av.triggerOnTouchEnd==false&&Z===k)){bb.preventDefault();Z=h;O(bc,Z)}else{if(!av.triggerOnTouchEnd&&a6()){Z=h;aF(bc,Z,A)}else{if(Z===k){Z=q;O(bc,Z)}}}}ao(false);return null}function a9(){W=0;a2=0;T=0;a1=0;aZ=0;G=1;R();ao(false)}function K(bb){var bc=bb.originalEvent;if(av.triggerOnTouchLeave){Z=aC(h);O(bc,Z)}}function aK(){aR.unbind(J,aN);aR.unbind(aD,a9);aR.unbind(ay,a3);aR.unbind(U,L);if(S){aR.unbind(S,K)}ao(false)}function aC(bf){var be=bf;var bd=aA();var bc=an();var bb=ba();if(!bd||bb){be=q}else{if(bc&&bf==k&&(!av.triggerOnTouchEnd||av.triggerOnTouchLeave)){be=h}else{if(!bc&&bf==h&&av.triggerOnTouchLeave){be=q}}}return be}function O(bd,bb){var bc=undefined;if(I()||V()){bc=aF(bd,bb,l)}else{if((P()||aX())&&bc!==false){bc=aF(bd,bb,t)}}if(aG()&&bc!==false){bc=aF(bd,bb,j)}else{if(ap()&&bc!==false){bc=aF(bd,bb,b)}else{if(ah()&&bc!==false){bc=aF(bd,bb,A)}}}if(bb===q){a9(bd)}if(bb===h){if(a){if(bd.touches.length==0){a9(bd)}}else{a9(bd)}}return bc}function aF(be,bb,bd){var bc=undefined;if(bd==l){aR.trigger("swipeStatus",[bb,aP||null,ag||0,ab||0,W,aQ]);if(av.swipeStatus){bc=av.swipeStatus.call(aR,be,bb,aP||null,ag||0,ab||0,W,aQ);if(bc===false){return false}}if(bb==h&&aV()){aR.trigger("swipe",[aP,ag,ab,W,aQ]);if(av.swipe){bc=av.swipe.call(aR,be,aP,ag,ab,W,aQ);if(bc===false){return false}}switch(aP){case p:aR.trigger("swipeLeft",[aP,ag,ab,W,aQ]);if(av.swipeLeft){bc=av.swipeLeft.call(aR,be,aP,ag,ab,W,aQ)}break;case o:aR.trigger("swipeRight",[aP,ag,ab,W,aQ]);if(av.swipeRight){bc=av.swipeRight.call(aR,be,aP,ag,ab,W,aQ)}break;case e:aR.trigger("swipeUp",[aP,ag,ab,W,aQ]);if(av.swipeUp){bc=av.swipeUp.call(aR,be,aP,ag,ab,W,aQ)}break;case x:aR.trigger("swipeDown",[aP,ag,ab,W,aQ]);if(av.swipeDown){bc=av.swipeDown.call(aR,be,aP,ag,ab,W,aQ)}break}}}if(bd==t){aR.trigger("pinchStatus",[bb,aJ||null,aq||0,ab||0,W,G,aQ]);if(av.pinchStatus){bc=av.pinchStatus.call(aR,be,bb,aJ||null,aq||0,ab||0,W,G,aQ);if(bc===false){return false}}if(bb==h&&a8()){switch(aJ){case c:aR.trigger("pinchIn",[aJ||null,aq||0,ab||0,W,G,aQ]);if(av.pinchIn){bc=av.pinchIn.call(aR,be,aJ||null,aq||0,ab||0,W,G,aQ)}break;case z:aR.trigger("pinchOut",[aJ||null,aq||0,ab||0,W,G,aQ]);if(av.pinchOut){bc=av.pinchOut.call(aR,be,aJ||null,aq||0,ab||0,W,G,aQ)}break}}}if(bd==A){if(bb===q||bb===h){clearTimeout(aW);clearTimeout(af);if(Y()&&!H()){N=at();aW=setTimeout(f.proxy(function(){N=null;aR.trigger("tap",[be.target]);if(av.tap){bc=av.tap.call(aR,be,be.target)}},this),av.doubleTapThreshold)}else{N=null;aR.trigger("tap",[be.target]);if(av.tap){bc=av.tap.call(aR,be,be.target)}}}}else{if(bd==j){if(bb===q||bb===h){clearTimeout(aW);N=null;aR.trigger("doubletap",[be.target]);if(av.doubleTap){bc=av.doubleTap.call(aR,be,be.target)}}}else{if(bd==b){if(bb===q||bb===h){clearTimeout(aW);N=null;aR.trigger("longtap",[be.target]);if(av.longTap){bc=av.longTap.call(aR,be,be.target)}}}}}return bc}function an(){var bb=true;if(av.threshold!==null){bb=ag>=av.threshold}return bb}function ba(){var bb=false;if(av.cancelThreshold!==null&&aP!==null){bb=(aT(aP)-ag)>=av.cancelThreshold}return bb}function ae(){if(av.pinchThreshold!==null){return aq>=av.pinchThreshold}return true}function aA(){var bb;if(av.maxTimeThreshold){if(ab>=av.maxTimeThreshold){bb=false}else{bb=true}}else{bb=true}return bb}function al(bb,bc){if(av.allowPageScroll===m||aX()){bb.preventDefault()}else{var bd=av.allowPageScroll===s;switch(bc){case p:if((av.swipeLeft&&bd)||(!bd&&av.allowPageScroll!=D)){bb.preventDefault()}break;case o:if((av.swipeRight&&bd)||(!bd&&av.allowPageScroll!=D)){bb.preventDefault()}break;case e:if((av.swipeUp&&bd)||(!bd&&av.allowPageScroll!=u)){bb.preventDefault()}break;case x:if((av.swipeDown&&bd)||(!bd&&av.allowPageScroll!=u)){bb.preventDefault()}break}}}function a8(){var bc=aO();var bb=X();var bd=ae();return bc&&bb&&bd}function aX(){return !!(av.pinchStatus||av.pinchIn||av.pinchOut)}function P(){return !!(a8()&&aX())}function aV(){var be=aA();var bg=an();var bd=aO();var bb=X();var bc=ba();var bf=!bc&&bb&&bd&&bg&&be;return bf}function V(){return !!(av.swipe||av.swipeStatus||av.swipeLeft||av.swipeRight||av.swipeUp||av.swipeDown)}function I(){return !!(aV()&&V())}function aO(){return((W===av.fingers||av.fingers===i)||!a)}function X(){return aQ[0].end.x!==0}function a6(){return !!(av.tap)}function Y(){return !!(av.doubleTap)}function aU(){return !!(av.longTap)}function Q(){if(N==null){return false}var bb=at();return(Y()&&((bb-N)<=av.doubleTapThreshold))}function H(){return Q()}function ax(){return((W===1||!a)&&(isNaN(ag)||ag<av.threshold))}function a0(){return((ab>av.longTapThreshold)&&(ag<r))}function ah(){return !!(ax()&&a6())}function aG(){return !!(Q()&&Y())}function ap(){return !!(a0()&&aU())}function F(){a5=at();ad=event.touches.length+1}function R(){a5=0;ad=0}function am(){var bb=false;if(a5){var bc=at()-a5;if(bc<=av.fingerReleaseThreshold){bb=true}}return bb}function aB(){return !!(aR.data(B+"_intouch")===true)}function ao(bb){if(bb===true){aR.bind(ay,a3);aR.bind(U,L);if(S){aR.bind(S,K)}}else{aR.unbind(ay,a3,false);aR.unbind(U,L,false);if(S){aR.unbind(S,K,false)}}aR.data(B+"_intouch",bb===true)}function ai(bc,bb){var bd=bb.identifier!==undefined?bb.identifier:0;aQ[bc].identifier=bd;aQ[bc].start.x=aQ[bc].end.x=bb.pageX||bb.clientX;aQ[bc].start.y=aQ[bc].end.y=bb.pageY||bb.clientY;return aQ[bc]}function aH(bb){var bd=bb.identifier!==undefined?bb.identifier:0;var bc=ac(bd);bc.end.x=bb.pageX||bb.clientX;bc.end.y=bb.pageY||bb.clientY;return bc}function ac(bc){for(var bb=0;bb<aQ.length;bb++){if(aQ[bb].identifier==bc){return aQ[bb]}}}function aj(){var bb=[];for(var bc=0;bc<=5;bc++){bb.push({start:{x:0,y:0},end:{x:0,y:0},identifier:0})}return bb}function aI(bb,bc){bc=Math.max(bc,aT(bb));M[bb].distance=bc}function aT(bb){if(M[bb]){return M[bb].distance}return undefined}function aa(){var bb={};bb[p]=aw(p);bb[o]=aw(o);bb[e]=aw(e);bb[x]=aw(x);return bb}function aw(bb){return{direction:bb,distance:0}}function aM(){return a2-T}function au(be,bd){var bc=Math.abs(be.x-bd.x);var bb=Math.abs(be.y-bd.y);return Math.round(Math.sqrt(bc*bc+bb*bb))}function a7(bb,bc){var bd=(bc/bb)*1;return bd.toFixed(2)}function ar(){if(G<1){return z}else{return c}}function aS(bc,bb){return Math.round(Math.sqrt(Math.pow(bb.x-bc.x,2)+Math.pow(bb.y-bc.y,2)))}function aE(be,bc){var bb=be.x-bc.x;var bg=bc.y-be.y;var bd=Math.atan2(bg,bb);var bf=Math.round(bd*180/Math.PI);if(bf<0){bf=360-Math.abs(bf)}return bf}function aL(bc,bb){var bd=aE(bc,bb);if((bd<=45)&&(bd>=0)){return p}else{if((bd<=360)&&(bd>=315)){return p}else{if((bd>=135)&&(bd<=225)){return o}else{if((bd>45)&&(bd<135)){return x}else{return e}}}}}function at(){var bb=new Date();return bb.getTime()}function aY(bb){bb=f(bb);var bd=bb.offset();var bc={left:bd.left,right:bd.left+bb.outerWidth(),top:bd.top,bottom:bd.top+bb.outerHeight()};return bc}function E(bb,bc){return(bb.x>bc.left&&bb.x<bc.right&&bb.y>bc.top&&bb.y<bc.bottom)}}}));
/**
 * ultraSlider v1.0
 */
//jQuery plugin ultraslider ver: 1.0
(function($) {
    $.fn.ultraSlider = function( options ) {
        var settings = $.extend({
            slides : '.slide',
            indicators: 'b',
            tabs : false,
            stopOnHover : true,
        }, options);
        if(settings.sec) settings.sec = Math.abs(settings.sec) ? Math.abs(settings.sec) * 1000 : false;
        else settings.sec = settings.tabs ? false : 3000;
        var $s = this;
        return this.each( function() {
        	$s.sig = function(ideb) {
    			var iLast = si;
    			if(ideb===undefined) si = (si<ss.length -1 )? si+1 : 0;
    			else if(ideb==-1) si = (si<1 )? ss.length-1 : si-1;
    			else si = ideb;
        		if(iLast<si) $($s).addClass('forward').removeClass('backward');
        		else if(iLast>si) $($s).addClass('backward').removeClass('forward');
    			$(ss).addClass('inactive').removeClass('last');
    			$(sb).addClass('inactive').removeClass('last');
    			$(ss[iLast]).addClass('last').removeClass('current');
    			$(sb[iLast]).addClass('last').removeClass('current');
    			$(ss[si]).addClass('current').removeClass('last inactive');
    			$(sb[si]).addClass('current').removeClass('last inactive');
    		};
        	var si=0,ss,sb;
    		var ss = $(settings.slides,$s).get();
    		if(!ss.length) alert('No "' +settings.slides+ '" slides');
    		if(settings.indicators && ss.length > 1) {
    			if(!$($s).find('.indicators').length) {
    				var indicators = $('<div class="indicators"></div>');
        			if(!settings.tabs) $($s).append(indicators);
        			else $($s).prepend(indicators);
    			} else var indicators = $('.indicators',$s);
    			if($(settings.indicators,$s).length==0) for (var z=0;z<ss.length;z++) $(indicators).append('<'+settings.indicators+'></'+settings.indicators+'> ');
    			else if(settings.tabs) $(settings.indicators,$s).remove().appendTo(indicators);
        		sb = $(settings.indicators,$s).get();
        		$(sb).click(function() {
    				if($(sb).index(this)!=si) $s.sig(
    					$(sb).index(this)
    				)
    			});
    		}
    		if(settings.sec && ss.length > 1) {
	    		if(settings.stopOnHover) $($s).hover(function(){
	    			$($s).addClass('hover');
	    			clearInterval($s.paso);
	    		},function(){
	    			clearInterval($s.paso);
	    			$($s).removeClass('hover');
	    			$s.paso = setInterval($s.sig,settings.sec);
	    		});
	    		clearInterval($s.paso);
	    		$s.paso = setInterval($s.sig,settings.sec);
    		}
    		if(ss.length > 1) $s.sig(si);

			if(jQuery().swipe) $(ss).swipe( {
				threshold: 50,
				excludedElements:[],
				allowPageScroll:"vertical",
				triggerOnTouchLeave:true,
				swipeStatus:function(event, phase, direction, distance) {
					var done = 0;
					if (phase=="start") {
						clearInterval($s.paso);
					} else if (phase=="move") {
						if (direction=="left") $(this).css({left: (distance*-1), opacity: (1-distance/500)});
						else if (direction=="right") $(this).css({left: distance, opacity: (1-distance/500)});
					} else if (phase=="cancel") {
						$(this).removeAttr('style');
						clearInterval($s.paso);
						$s.paso = setInterval($s.sig,settings.sec);
					} else if (phase=="end" && !done) {
						event.preventDefault();
						if(direction=='left') $s.sig();
						else if(direction=='right') $s.sig(-1);
						$(this).animate({'opacity':'0'},500,function(){
							$(this).removeAttr('style');
						});
						clearInterval($s.paso);
						$s.paso = setInterval($s.sig,settings.sec);
					}
				},
			});
        });
    }

})(jQuery);

var homeSlider;
var loadSec = function(sec) {
	if(sec == 'home' || sec=="events" || sec=="press") {
			if(homeSlider) clearInterval(homeSlider.paso);
			homeSlider = $('.slider').ultraSlider({sec:3});
			$('[data-full]').each(loadFullImage);
			$('.module-container').waitForImages(function(){
				var $bc = $(this);
				$bc.each(initIsotope);
			    setTimeout(function(){$bc.each(initIsotope);},1000);
			    setTimeout(function(){$bc.each(initIsotope);},3000);
			    setTimeout(function(){$bc.each(initIsotope);},5000);
			    if(sec=="events" || sec=="press") {
			    	$('.module-content',this).each(function(){
			    		this.offsetHeight;
			    		var offset = this.offsetLeft + this.offsetTop;
			    		var delay = offset / 6000;
			    		$(this).css({
							'transition-delay': (delay ) + "s"
						});
			    	}).addClass('show');
			    	setTimeout(function(){$('.module-content',this).css('transition-delay','');},3000);
				}
			});
	} else {
		if(homeSlider) clearInterval(homeSlider.paso);
		$('main').unbind('click').on('click', closeSec);
		$('.subsection').height(document.height);
		$('.subsection article')
			.unbind('click')
			.on('click', function(e){e.stopPropagation();});
		$('html,body').animate({scrollTop:0});
		if(sec=='menu') {
			$('.menu-list ul li a').click(function(){
				$('.menu-extra-link').addClass('close');
			});
		} else if(sec=='location') {
			initMap();
		} else if(sec.match(/menu\/\w/)) {
			openMenuView(sec);
		} else if(sec=='gallery') {
			$("#auto-wall").lightGallery({onCloseAfter:closeSec, html:true});
			$("#auto-wall a:first").click();
		}
	}
};

var loadFullImage = function() {
	$('span, img',this).remove();
	$(this).append('<img src="'+$(this).data('full')+'" height="'+$(this).data('height')+'">');
};

var initIsotope = function(event) {
	  $(this).isotope({
		  itemSelector : '.module-content',
		  layoutMode : 'masonry'
	  });
}

var openMenuView = function( sec ) {
	var $slider, xOFfset, x, mi, len, lastMoving=0;
	var sigMenu = function(newmi) {
		if(newmi<1) newmi=1;
		else if(newmi>len) newmi=len;
		mi = newmi;
		lastMoving=mi;
		x = -(newmi*2000-1000) + ($(window).width()/2 - 500);
		$slider.addClass('transition').css('transform','translate3d('+x+'px,0,0)');
		setTimeout(function(){
			if(lastMoving==newmi) {
				lastMoving =0;
				$slider.removeClass('transition');
			}
		},800);
		xOFfset = x;
	};
	$('body').addClass('menuView');
	$.get( SITE_URL+'/menu-slider/?method=ajax', {'method':'ajax','menupage':sec.replace('menu/','')}, function(data){
		data = JSON.parse(data);
		data = $.parseHTML( data.contents );
		$('#menuview').remove();
		$(data).height(h - 20);
		$slider = $('#menu-slider',data);
		mi = $slider.data('opener'); // menu index
		xOFfset = -(mi*2000-1000) + ($(window).width()/2 - 500);
		$slider.css('transform', 'translate3d('+xOFfset+'px,0,0)');
		$('.prev:first, .next:last',$slider).remove();
		$('body').append(data)
			.unbind('keyup').keyup(function(e) {
				if(e.keyCode == 37) sigMenu(mi-1);
				else if(e.keyCode == 39) sigMenu(mi+1);
				else if(e.keyCode == 27) closeSec(e);
			});
		setTimeout(function(){$('#menu-slider .page').css('opacity',1)},200);
		setTimeout(function(){$('#menu-slider .page').css('height','100%')},400);
		setTimeout(function(){$('#menu-slider .photo').addClass('show')},400);
		//$('.subsection article').delay('500').slideDown('slow');
		len = $('article',$slider).length;
		$('.close',$slider).click(closeSec);
		$('.prev',$slider).click(function(){sigMenu(mi-1)});
		$('.next',$slider).click(function(){sigMenu(mi+1)});
		if(jQuery().swipe) $slider.swipe( {
			threshold:1,
			excludedElements:[],
			allowPageScroll:"vertical",
			swipeStatus:function(event, phase, direction, distance) {
				if (phase=="start") {
					x = xOFfset;
				} else if (phase=="move") {
					if (direction=="left") x = xOFfset-distance;
					else if (direction=="right") x = xOFfset+distance;
					$(this).css('transform','translate3d('+x+'px,0,0)');
				} else if (phase=="end") {
					var closestPage = -1 * parseInt((x - $(window).width()/2 -1500 ) / 2000);
					if(mi==closestPage && distance > 300) {
						if(direction=="left") sigMenu(mi+1);
						else if(direction=="right") sigMenu(mi-1);
					} else sigMenu(closestPage);
				}
			},
		});
	}, "html");
}

$('html').removeClass('showHeader'); //remove mobile header

$(document).ready(function(){
	loadSec(getSec(location.href));
	$('.module-title').remove();
	$('.wall-empty').height(h-2);
});

$(window).load(function(){
	setTimeout(function(){$('html,body').addClass('loaded')},1500);
	setTimeout(function(){$('html,body').removeClass('preload')},2500);
});



/*
promise.then(function(result) {
	  console.log(result); // "Stuff worked!"
	}, function(err) {
	  console.log(err); // Error: "It broke"
	});*/
